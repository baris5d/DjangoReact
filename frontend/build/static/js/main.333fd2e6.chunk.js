(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){e.exports=n(60)},36:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),l=(n(36),n(11)),u=n.n(l),i=n(15),s=n(12),m=n(16),p=n(9),f=n(1),h=n(13),E=n.n(h),b=n(8);function d(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var r=n[a].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}function k(e){var t=Object(a.useState)({name:"",author:"",description:""}),n=Object(p.a)(t,2),c=n[0],o=n[1],l=function(e){o(Object(m.a)(Object(m.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"book-create"},r.a.createElement("h1",null," DjangoReact - Create Book"),r.a.createElement("form",{onSubmit:function(e){E.a.defaults.xsrfCookieName="csrftoken",E.a.defaults.xsrfHeaderName="X-CSRFToken",e.preventDefault(),E.a.post("http://127.0.0.1:8000/create-book",c,{headers:{"X-CSRFToken":d("csrftoken")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},r.a.createElement("input",{type:"text",name:"name",value:c.name,onChange:l}),r.a.createElement("input",{type:"text",name:"author",value:c.author,onChange:l}),r.a.createElement("textarea",{name:"description",value:c.description,onChange:l}),r.a.createElement("button",null," Save ")))}function v(e){var t=e.book;return r.a.createElement("div",{className:"book-item"},r.a.createElement(b.b,{to:"/book/"+t.id},r.a.createElement("h2",null,t.name)),r.a.createElement("p",null,t.author),r.a.createElement("p",null,t.description))}function j(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(p.a)(o,2),s=l[0],m=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/books/");case 2:e.sent.json().then((function(e){return c(e.response)})).catch((function(e){return m(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"DjangoReact - Books List")),r.a.createElement("div",{className:"book-list"},n.map((function(e,t){return r.a.createElement(v,{book:e,key:t})})),s))}function g(e){var t=Object(f.f)().id,n=Object(a.useState)([]),c=Object(p.a)(n,2),o=c[0],l=c[1],s=Object(a.useState)(!1),m=Object(p.a)(s,2),h=m[0],E=m[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/books/"+t);case 2:e.sent.json().then((function(e){return l(e)})).catch((function(e){return E(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),h||"error"===o.status?r.a.createElement("p",null,"Something went wrong"):r.a.createElement("div",{className:"book-list"},r.a.createElement("h1",null,o.name),r.a.createElement("h3",null,o.author),r.a.createElement("p",null,o.description)))}function O(){return r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.b,{to:"/"},"Book list")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/create-book"},"Create Book ")))),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/book/:id"},r.a.createElement(g,null)),r.a.createElement(f.a,{path:"/create-book"},r.a.createElement(k,null)),r.a.createElement(f.a,{path:"/"},r.a.createElement(j,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.333fd2e6.chunk.js.map